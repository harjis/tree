(this.webpackJsonptree=this.webpackJsonptree||[]).push([[0],{57:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(0),i=n.n(a),c=n(15),o=n.n(c),u=n(7),d=function(t){var e=i.a.useRef(null),n=i.a.useState([0,0,0,0]),a=Object(u.a)(n,2),c=a[0],o=a[1];return i.a.useEffect((function(){e.current&&o(function(t){var e=t.getBBox(),n=e.x,r=e.y,a=e.width,i=e.height;return[n,r,a,i]}(e.current))}),[]),Object(r.jsx)("svg",{ref:e,display:"block",height:t.height,width:t.width,viewBox:c.join(" "),children:t.children})};var s=n(6),l=function(t){var e=i.a.useRef(null);return i.a.useEffect((function(){e.current&&function(t,e){var n=Object(s.b)(t);n.selectAll("g").remove();var r=n.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5),a=n.append("g"),i=n.append("g"),c=e.width/(e.tree.height+1),o=Object(s.a)().nodeSize([50,c])(e.tree);r.selectAll("path").data(o.links()).join("path").attr("stroke",(function(t){return e.selectedItemIds.has(String(t.target.id))?"red":"#555"})).attr("d",(function(t){return"\n        M".concat(t.target.y,",").concat(t.target.x,"\n        C").concat(t.source.y+c/2,",").concat(t.target.x,"\n         ").concat(t.source.y+c/2,",").concat(t.source.x,"\n         ").concat(t.source.y,",").concat(t.source.x,"\n      ")})),a.selectAll("circle").data(o.descendants()).join("circle").attr("cx",(function(t){return t.y})).attr("cy",(function(t){return t.x})).attr("fill",(function(t){return t.children?"#555":"#999"})).attr("r",2.5),i.attr("font-family","sans-serif").attr("font-size",10).attr("stroke-linejoin","round").attr("stroke-width",3).selectAll("text").data(o.descendants()).join("text").attr("x",(function(t){return t.y})).attr("y",(function(t){return t.x})).attr("dy","0.31em").attr("dx",(function(t){return t.children?-6:6})).attr("fill",(function(t){return t.id&&e.selectedItemIds.has(t.id)?"red":"black"})).text((function(t){return String(t.data[e.labelKey])})).filter((function(t){return!!t.children})).attr("text-anchor","end").clone(!0).lower().attr("stroke","white")}(e.current,t)}),[t]),Object(r.jsx)("g",{ref:e})},f=n(13);function h(t){var e=t.items,n=t.itemKey,r=t.options,a=i.a.useState(""),c=Object(u.a)(a,2),o=c[0],d=c[1],s=i.a.useState(e),l=Object(u.a)(s,2),h=l[0],p=l[1],y=i.a.useCallback((function(t){return r&&!0===r.caseSensitive?function(t,e,n){return t.reduce((function(t,r){var a=r[e];return"string"===typeof a&&a.includes(n)?[].concat(Object(f.a)(t),[r]):t}),[])}(e,n,t):function(t,e,n){return t.reduce((function(t,r){var a=r[e];return"string"===typeof a&&a.toLocaleLowerCase().includes(n.toLowerCase())?[].concat(Object(f.a)(t),[r]):t}),[])}(e,n,t)}),[e,n,r]);i.a.useEffect((function(){p(y(o))}),[e,o,y]);return{search:o,filteredItems:h,onSearch:function(t){d(""!==t?t:"")}}}var p=function(t){var e=function(t){var e=h(t);return{search:e.search,onSearch:e.onSearch,selectedItems:""===e.search?[]:e.filteredItems}}({items:t.items,itemKey:t.itemKey}),n=e.selectedItems;return{search:e.search,onSearch:e.onSearch,selectedItemIds:i.a.useMemo((function(){var e=function(t,e){return t.flatMap((function(t){if("folder"===t.type){var n=e.find((function(e){return e.id===String(t.id)}));return n?n.children:[]}return[e.find((function(e){return e.id===String(t.id)}))]}))}(n,t.tree);return function(t,e){return new Set(e.flatMap((function(e){return t.path(e)})).map((function(t){return String(t.id)})))}(t.tree,e)}),[t.tree,n])}};var y=function(t){var e=i.a.useMemo((function(){return e=t.items,n=t.idKey,r=t.parentKey,Object(s.c)().id((function(t){return String(t[n])})).parentId((function(t){return null===t[r]?"":String(t[r])}))(e);var e,n,r}),[t.items,t.idKey,t.parentKey]),n=p({items:t.items,itemKey:t.labelKey,tree:e}),a=n.search,c=n.onSearch,o=n.selectedItemIds;return Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"text",value:a,onChange:function(t){var e=t.currentTarget.value;c(e)}}),Object(r.jsx)(d,{height:t.height,width:t.width,children:Object(r.jsx)(l,{height:t.height,labelKey:t.labelKey,tree:e,selectedItemIds:o,width:t.width})})]})},m=[{id:1,name:"Root",parentId:null,type:"folder"},{id:2,name:"Cats",parentId:1,type:"folder"},{id:3,name:"Dogs",parentId:1,type:"folder"},{id:4,name:"Small",parentId:2,type:"folder"},{id:5,name:"Big",parentId:2,type:"folder"}],g=[{id:10,name:"Kitten",parentId:4,type:"report"},{id:20,name:"Kitten2",parentId:4,type:"report"},{id:30,name:"Buldog",parentId:3,type:"report"},{id:40,name:"Under root",parentId:1,type:"report"},{id:50,name:"Fatcat",parentId:5,type:"report"}];var j=function(){var t=[].concat(m,g);return Object(r.jsx)("div",{children:Object(r.jsx)(y,{height:800,idKey:"id",items:t,labelKey:"name",parentKey:"parentId",width:800})})},b=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),i(t),c(t)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(j,{})}),document.getElementById("root")),b()}},[[57,1,2]]]);
//# sourceMappingURL=main.b9dd2491.chunk.js.map