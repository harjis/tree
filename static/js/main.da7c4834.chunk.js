(this.webpackJsonptree=this.webpackJsonptree||[]).push([[0],{57:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),a=n.n(i),c=n(15),o=n.n(c),u=n(2),d=function(e){var t=a.a.useRef(null),n=a.a.useState([0,0,0,0]),i=Object(u.a)(n,2),c=i[0],o=i[1];return a.a.useEffect((function(){t.current&&o(function(e){var t=e.getBBox(),n=t.x,r=t.y,i=t.width,a=t.height;return[n,r,i,a]}(t.current))}),[]),Object(r.jsx)("svg",{ref:t,display:"block",height:e.height,width:e.width,viewBox:c.join(" "),children:e.children})};var s=n(7),f=function(e){var t=a.a.useRef(null);return a.a.useEffect((function(){t.current&&function(e,t){var n=Object(s.a)(e);n.selectAll("g").remove();var r=n.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5),i=n.append("g"),a=n.append("g"),c=t.width/(t.tree.height+1),o=Object(s.c)().nodeSize([50,c])(t.tree);r.selectAll("path").data(o.links()).join("path").attr("stroke",(function(e){return t.selectedItemIds.has(String(e.target.id))?"blue":"#555"})).attr("d",(function(e){return"\n        M".concat(e.target.y,",").concat(e.target.x,"\n        C").concat(e.source.y+c/2,",").concat(e.target.x,"\n         ").concat(e.source.y+c/2,",").concat(e.source.x,"\n         ").concat(e.source.y,",").concat(e.source.x,"\n      ")})),i.selectAll("circle").data(o.descendants()).join("circle").attr("cx",(function(e){return e.y})).attr("cy",(function(e){return e.x})).attr("fill",(function(e){return e.children?"#555":"#999"})).attr("r",2.5),a.attr("font-family","sans-serif").attr("font-size",10).attr("stroke-linejoin","round").attr("stroke-width",3).selectAll("text").data(o.descendants()).join("text").attr("x",(function(e){return e.y})).attr("y",(function(e){return e.x})).attr("dy","0.31em").attr("dx",(function(e){return e.children?-6:6})).attr("fill",(function(e){return e.id===t.highlightedItemId?"red":e.id&&t.selectedItemIds.has(e.id)?"blue":"black"})).text((function(e){return String(e.data[t.labelKey])})).filter((function(e){return!!e.children})).attr("text-anchor","end").clone(!0).lower().attr("stroke","white")}(t.current,e)}),[e]),Object(r.jsx)("g",{ref:t})},l=n(13);function h(e){var t=e.items,n=e.itemKey,r=e.options,i=a.a.useState(""),c=Object(u.a)(i,2),o=c[0],d=c[1],s=a.a.useState(t),f=Object(u.a)(s,2),h=f[0],p=f[1],y=a.a.useCallback((function(e){return r&&!0===r.caseSensitive?function(e,t,n){return e.reduce((function(e,r){var i=r[t];return"string"===typeof i&&i.includes(n)?[].concat(Object(l.a)(e),[r]):e}),[])}(t,n,e):function(e,t,n){return e.reduce((function(e,r){var i=r[t];return"string"===typeof i&&i.toLocaleLowerCase().includes(n.toLowerCase())?[].concat(Object(l.a)(e),[r]):e}),[])}(t,n,e)}),[t,n,r]);a.a.useEffect((function(){p(y(o))}),[t,o,y]);return{search:o,filteredItems:h,onSearch:function(e){d(""!==e?e:"")}}}var p=function(e){var t=function(e){var t=h(e);return{search:t.search,onSearch:t.onSearch,selectedItems:""===t.search?[]:t.filteredItems}}({items:e.items,itemKey:e.itemKey}),n=t.selectedItems;return{search:t.search,onSearch:t.onSearch,selectedItemIds:a.a.useMemo((function(){var t=function(e,t){return e.flatMap((function(e){if("folder"===e.type){var n=t.find((function(t){return t.id===String(e.id)}));return n?n.children:[]}return[t.find((function(t){return t.id===String(e.id)}))]}))}(n,e.tree);return function(e,t){return new Set(t.flatMap((function(t){return e.path(t)})).map((function(e){return String(e.id)})))}(e.tree,t)}),[e.tree,n])}};var y=function(){};var v=function(e){var t=e.autoFocus,n=e.eventListeners;return function(e){var t=a.a.useRef(y);return a.a.useCallback((function(n){t.current(),t.current=y,n&&(t.current=e(n))}),[e])}(a.a.useCallback((function(e){var r=[];return n.forEach((function(t){var n=t.keys,i=t.eventListener,a=function(e){n.includes(e.key)&&i(e)};r.push(a),null===e||void 0===e||e.addEventListener("keydown",a)})),t&&(null===e||void 0===e||e.focus()),function(){console.log("Cleanup time!"),r.forEach((function(t){null===e||void 0===e||e.removeEventListener("keydown",t)}))}}),[t,n]))};var g=function(e){var t=a.a.useMemo((function(){return t=e.items,n=e.idKey,r=e.parentKey,Object(s.b)().id((function(e){return String(e[n])})).parentId((function(e){return null===e[r]?"":String(e[r])}))(t);var t,n,r}),[e.items,e.idKey,e.parentKey]),n=p({items:e.items,itemKey:e.labelKey,tree:t}),i=n.search,c=n.onSearch,o=n.selectedItemIds,l=function(e){var t=a.a.useState(e.tree.id),n=Object(u.a)(t,2),r=n[0],i=n[1],c=a.a.useMemo((function(){return[{keys:["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eventListener:function(t){t.stopPropagation(),"ArrowRight"===t.key?i(function(e,t){var n=e.find((function(e){return e.id===t}));return n.children?n.children[0].id:t}(e.tree,r)):"ArrowLeft"===t.key?i(function(e,t){var n=e.find((function(e){return e.id===t}));return n.parent?n.parent.id:t}(e.tree,r)):"ArrowUp"===t.key?i(function(e,t){var n=e.find((function(e){return e.id===t})),r=[];e.each((function(e){e.depth===n.depth&&r.push(e)}));var i=r.findIndex((function(e){return e.id===n.id}));return r[i-1]?r[i-1].id:n.id}(e.tree,r)):"ArrowDown"===t.key&&i(function(e,t){var n=e.find((function(e){return e.id===t})),r=[];e.each((function(e){e.depth===n.depth&&r.push(e)}));var i=r.findIndex((function(e){return e.id===n.id}));return r[i+1]?r[i+1].id:n.id}(e.tree,r))}}]}),[r,e.tree]);return{hotkeyRef:v({autoFocus:!0,eventListeners:c}),highlightedItemId:r}}({tree:t});return Object(r.jsxs)("div",{tabIndex:0,ref:l.hotkeyRef,children:["Press arrow keys to navigate! ",Object(r.jsx)("br",{}),"Search:"," ",Object(r.jsx)("input",{type:"text",value:i,onChange:function(e){var t=e.currentTarget.value;c(t)}}),Object(r.jsx)(d,{height:e.height,width:e.width,children:Object(r.jsx)(f,{height:e.height,highlightedItemId:l.highlightedItemId,labelKey:e.labelKey,tree:t,selectedItemIds:o,width:e.width})})]})},m=[{id:1,name:"Root",parentId:null,type:"folder"},{id:2,name:"Cats",parentId:1,type:"folder"},{id:3,name:"Dogs",parentId:1,type:"folder"},{id:4,name:"Small",parentId:2,type:"folder"},{id:5,name:"Big",parentId:2,type:"folder"}],I=[{id:10,name:"Kitten",parentId:4,type:"report"},{id:20,name:"Kitten2",parentId:4,type:"report"},{id:30,name:"Buldog",parentId:3,type:"report"},{id:40,name:"Under root",parentId:1,type:"report"},{id:50,name:"Fatcat",parentId:5,type:"report"}];var b=function(){var e=[].concat(m,I);return Object(r.jsx)("div",{children:Object(r.jsx)(g,{height:800,idKey:"id",items:e,labelKey:"name",parentKey:"parentId",width:800})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(b,{})}),document.getElementById("root")),j()}},[[57,1,2]]]);
//# sourceMappingURL=main.da7c4834.chunk.js.map